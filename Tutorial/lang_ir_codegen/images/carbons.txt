gather:
https://carbon.now.sh/?bg=rgba(171,184,195,0)&t=solarized%20light&wt=none&l=text/x-scala&ds=true&dsyoff=0px&dsblur=38px&wc=false&wa=true&pv=48px&ph=32px&ln=true&fm=Hack&fs=14px&si=false&code=val%2520transposeFunction%2520%253D%2520(outerSize%253A%2520ArithExpr%252C%2520innerSize%253A%2520ArithExpr)%2520%253D%253E%2520%250A(i%253A%2520ArithExpr%252C%2520_)%2520%253D%253E%2520%257B%250A%2520%2520val%2520col%2520%253D%2520(i%2520%2525%2520innerSize)%2520*%2520outerSize%250A%2520%2520val%2520row%2520%253D%2520i%2520%252F%2520innerSize%250A%250A%2520%2520row%2520%252B%2520col%250A%257D%250A%250Aval%2520Transpose%2520%253D%2520Split(N)%2520o%2520Gather(IndexFunction.transposeFunction(M%252C%2520N))%2520o%2520Join()&es=2x

toLocal:
https://carbon.now.sh/?bg=rgba(171,184,195,0)&t=solarized%20light&wt=none&l=text/x-scala&ds=true&dsyoff=0px&dsblur=38px&wc=false&wa=true&pv=48px&ph=32px&ln=false&fm=Hack&fs=14px&si=false&code=MapWrg(MapLcl(toLocal(MapSeq(id)))%2520%2524%2520X&es=2x

dotProductLift2_expr:
https://carbon.now.sh/?bg=rgba(171,184,195,0)&t=solarized%20light&wt=none&l=text/x-scala&ds=true&dsyoff=0px&dsblur=38px&wc=false&wa=true&pv=48px&ph=32px&ln=true&fm=Hack&fs=14px&si=false&code=val%2520dotProductLift%2520%253D%2520fun(%250A%2520%2520ArrayTypeWSWC(Float%252C%2520N)%252C%250A%2520%2520ArrayTypeWSWC(Float%252C%2520N)%252C%250A%2520%2520(left%252C%2520right)%2520%253D%253E%2520%257B%250A%2520%2520%2520%2520Join()%2520o%2520MapWrg(%250A%2520%2520%2520%2520%2520%2520Join()%2520o%2520%250A%2520%2520%2520%2520%2520%2520MapLcl(%250A%2520%2520%2520%2520%2520%2520%2520%2520toGlobal(MapSeq(id))%2520o%250A%2520%2520%2520%2520%2520%2520%2520%2520ReduceSeq(add%252C%25200.0f)%2520o%250A%2520%2520%2520%2520%2520%2520%2520%2520MapSeq(mult))%2520o%2520%250A%2520%2520%2520%2520%2520%2520Split(4)%250A%2520%2520%2520%2520)%2520o%2520Split(1024)%2520%2524%2520Zip(left%252C%2520right)%250A%2520%2520%257D)&es=2x